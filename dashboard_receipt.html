<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta content="IE=edge" http-equiv="X-UA-Compatible">
    <meta content="width=device-width, initial-scale=1, shrink-to-fit=no" name="viewport">
    <meta content="" name="description">
    <meta content="" name="author">

    <title>Review Payment</title>


    <!-- jQuery library -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.0/jquery.min.js"></script>

    <!--script for authentication list-->
    <script src="https://cdn.firebase.com/libs/firebaseui/3.5.2/firebaseui.js"></script>
    <link type="text/css" rel="stylesheet" href="https://cdn.firebase.com/libs/firebaseui/3.5.2/firebaseui.css" />

    <!-- Custom fonts for this template-->
    <link href="js/fontawesome-free/css/all.min.css" rel="stylesheet" type="text/css">

    <!-- Custom styles for this template-->
    <link href="css/profile_page.css" rel="stylesheet">
    <link rel="stylesheet" href="./css/donation.css" type="text/css">

    <!-- Stripe JS/CSS -->
    <script src="https://js.stripe.com/v2/"></script>
    <script src="https://unpkg.com/vue/dist/vue.js"></script>
    <link rel="stylesheet" href="https://cdn.firebase.com/libs/firebaseui/3.5.2/firebaseui.css" />

    <!--initialize firebase-->
    <script src="https://www.gstatic.com/firebasejs/5.11.0/firebase.js"></script>
    <script src="js/firebase_setup.js"></script>

</head>

<body id="page-top">

<!-- Navigation -->
<!-- Logo & Hamburger Icon -->
<nav class="navbar navbar-expand navbar-dark bg-dark">
    <button class="btn btn-link btn-lg text-white" id="sidebarToggle">
        <i class="fas fa-bars"></i>
    </button>
    <a class="navbar-brand ml-auto" href="index.html">
        <img src="images/logo.png" width="75" height="75" class="" alt="Logo">
    </a>
</nav>

<!-- Page Content -->
<div id="wrapper">

    <!-- Sidebar -->
    <ul class="sidebar navbar-nav">
        <li class="nav-item">
            <a class="nav-link" href="dashboard_profile.html">
                <i class="fas fa-user-circle fa-fw"></i>
                <span>Profile</span>
            </a>

            <a id="query_menu" class="nav-link" style="display: none;" href="dashboard_query_menu.html">
                <i class="fas fa-database fa-fw"></i>
                <span>Query Menu</span>
            </a>

            <a id="guest_room" class="nav-link" style="display: none;" href="dashboard_guest_room.html">
                <i class="fas fa-house-damage fa-fw"></i>
                <span>Guest Room Menu</span>
            </a>
        </li>
        <li class="nav-item">
            <a class="nav-link" href="dashboard_donation.html">
                <i class="fas fa-donate fa-fw"></i>
                <span>Contribute</span>
            </a>
        </li>
        <li class="nav-item">
            <a class="nav-link" onclick="main_app.log_out()">
                <i class="fas fa-fw fa-sign-out-alt"></i>
                <span>Log Out</span>
            </a>
        </li>
    </ul>

    <div id="content-wrapper">

        <div class="container-fluid">

            <!-- Breadcrumbs-->
            <ol class="breadcrumb">
                <li class="breadcrumb-item">
                    <a href="dashboard_profile.html">Account</a>
                </li>
                <li class="breadcrumb-item">
                    <a href="dashboard_donation.html">Donation</a>
                </li>
                <li class="breadcrumb-item active">Receipt</li>
            </ol>
            <h1 id="title">Thank You for Your Contribution!</h1>
            <hr>

            <!-- Loading Screen -->
            <div id="loading" class="popover-body" style="position:absolute;left:50%; top:50%; transform: translate(-50%, -50%)">
                <div class="loader"></div>
            </div>
            <script>
                $('#loading').show();
                setTimeout(function(){
                    $('#loading').hide();
                    document.getElementById('title').innerText = "Thank You for Your Contribution!";
                    $('#receipt').show();
                }, 2000);
            </script>

            <!--  Take info from Stripe API and populate this div  -->
            <div class="container col-sm-4" id="receipt" style="display:none">
                <h4>Receipt</h4>
                <!--  Payment info here  -->
                <table class="table table-bordered">
                    <tr>
                        <th>Name:</th>
                        <td id="name">[user's name]</td>
                    </tr>
                    <tr>
                        <th>Transaction Date:</th>
                        <td>
                            <script>
                                let now = new Date();
                                let current_date = now.getFullYear() + '/' + now.getMonth() + '/' + now.getDate();
                                document.write(current_date);
                            </script>
                        </td>
                    </tr>
                    <tr>
                        <th>Amount Paid:</th>
                        <td id="amount">[amount donated]</td>
                    </tr>
                </table>
                <script>
                    $(document).ready(function(){
                        let geturl = new URL(window.location.href);
                        document.getElementById("name").innerText = geturl.searchParams.get("name");
                        let getcurrency = geturl.searchParams.get("selected_currency");
                        document.getElementById("amount").innerText =
                            getSymbolFromCurrency(getcurrency) + geturl.searchParams.get("amount");
                    });
                </script>
                <div>
                    <a href="dashboard_profile.html">
                        <button class="bg-light bottom_buttons">Profile</button>
                    </a>
                    <input class="bg-info bottom_buttons" type="button" name="print" value="Print/PDF" onClick="window.print()">
                </div>
            </div>
        </div>
        <!-- /.container-fluid -->

        <!-- Sticky Footer -->
        <footer class="sticky-footer">
            <div class="container my-auto">
                <div class="copyright text-center my-auto">
                    <span>Copyright Â© Project Treehouse 2019</span>
                </div>
            </div>
        </footer>

    </div>
    <!-- /.content-wrapper -->

</div>

<!-- Scroll to Top Button-->

<a class="scroll-to-top rounded" href="#page-top">
    <i class="fas fa-angle-up"></i>
</a>

<!-- Script for currency symbols -->
<script src="js/currency-symbol-map.js"></script>
<!-- Access page functions -->
<script src="./js/donation.js"></script>

<!-- Bootstrap Core JavaScript-->
<script src="js/jquery/jquery.min.js"></script>
<script src="js/bootstrap/js/bootstrap.bundle.min.js"></script>

<!-- Core plugin JavaScript-->
<script src="js/jquery-easing/jquery.easing.js"></script>

<!-- Custom scripts for all pages-->
<script src="js/profile_page.min.js"></script>
<script src="js/index.js"></script>
<script src="js/display_links.js"></script>
<script src="js/profile_logout.js"></script>

<!-- Import and configure the Firebase SDK -->
<!-- These scripts are made available when the app is served or deployed on Firebase Hosting -->
<!-- If you do not serve/host your project using Firebase Hosting see https://firebase.google.com/docs/web/setup -->
<script src="/__/firebase/5.9.1/firebase-app.js"></script>
<script src="/__/firebase/5.9.1/firebase-auth.js"></script>
<script src="/__/firebase/5.9.1/firebase-firestore.js"></script>
<script src="/__/firebase/init.js"></script>

<!-- Import Firebase UI -->
<script src="https://cdn.firebase.com/libs/firebaseui/3.5.2/firebaseui.js"></script>

</body>
</html>
